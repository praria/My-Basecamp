{"ast":null,"code":"var _jsxFileName = \"/Users/prakash/Documents/mscs/My-Basecamp/my-basecamp-frontend/src/components/UserList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserList = ({\n  token\n}) => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [selectedUserId, setSelectedUserId] = useState(null);\n  const [userRole, setUserRole] = useState('');\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const fetchUsers = async () => {\n    try {\n      const response = await api.getAllUsers(token);\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error fetching users', error);\n    }\n  };\n  const handleUpdateRole = async () => {\n    try {\n      await api.updateUserRole(selectedUserId, userRole, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error updating user role', error);\n    }\n  };\n  const handleDeleteUser = async userId => {\n    try {\n      await api.deleteUser(userId, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error deleting user', error);\n    }\n  };\n  const handleAssignAdmin = async userId => {\n    try {\n      await api.assignAdmin(userId, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error assigning admin role', error);\n    }\n  };\n  const handleRevokeAdmin = async userId => {\n    try {\n      await api.revokeAdmin(userId, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error revoking admin role', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"User List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [user.username, \" - \", user.role, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDeleteUser(user.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAssignAdmin(user.id),\n          children: \"Assign Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRevokeAdmin(user.id),\n          children: \"Revoke Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, user.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Update User Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setSelectedUserId(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: user.id,\n          children: user.username\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter new role\",\n        value: userRole,\n        onChange: e => setUserRole(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpdateRole,\n        children: \"Update Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(UserList, \"Tmfrh9X5K3wVoMNPICDzfu7A4CA=\");\n_c = UserList;\nexport default UserList;\nvar _c;\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","UserList","token","_s","users","setUsers","selectedUserId","setSelectedUserId","userRole","setUserRole","fetchUsers","response","getAllUsers","data","error","console","handleUpdateRole","updateUserRole","handleDeleteUser","userId","deleteUser","handleAssignAdmin","assignAdmin","handleRevokeAdmin","revokeAdmin","children","fileName","_jsxFileName","lineNumber","columnNumber","map","user","username","role","onClick","id","onChange","e","target","value","type","placeholder","_c","$RefreshReg$"],"sources":["/Users/prakash/Documents/mscs/My-Basecamp/my-basecamp-frontend/src/components/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\n\nconst UserList = ({ token }) => {\n  const [users, setUsers] = useState([]);\n  const [selectedUserId, setSelectedUserId] = useState(null);\n  const [userRole, setUserRole] = useState('');\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const fetchUsers = async () => {\n    try {\n      const response = await api.getAllUsers(token);\n      setUsers(response.data);\n    } catch (error) {\n      console.error('Error fetching users', error);\n    }\n  };\n\n  const handleUpdateRole = async () => {\n    try {\n      await api.updateUserRole(selectedUserId, userRole, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error updating user role', error);\n    }\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.deleteUser(userId, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error deleting user', error);\n    }\n  };\n\n  const handleAssignAdmin = async (userId) => {\n    try {\n      await api.assignAdmin(userId, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error assigning admin role', error);\n    }\n  };\n\n  const handleRevokeAdmin = async (userId) => {\n    try {\n      await api.revokeAdmin(userId, token);\n      fetchUsers();\n    } catch (error) {\n      console.error('Error revoking admin role', error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>User List</h2>\n      <ul>\n        {users.map(user => (\n          <li key={user.id}>\n            {user.username} - {user.role}\n            <button onClick={() => handleDeleteUser(user.id)}>Delete</button>\n            <button onClick={() => handleAssignAdmin(user.id)}>Assign Admin</button>\n            <button onClick={() => handleRevokeAdmin(user.id)}>Revoke Admin</button>\n          </li>\n        ))}\n      </ul>\n      <div>\n        <h3>Update User Role</h3>\n        <select onChange={(e) => setSelectedUserId(e.target.value)}>\n          <option value=\"\">Select User</option>\n          {users.map(user => (\n            <option key={user.id} value={user.id}>{user.username}</option>\n          ))}\n        </select>\n        <input\n          type=\"text\"\n          placeholder=\"Enter new role\"\n          value={userRole}\n          onChange={(e) => setUserRole(e.target.value)}\n        />\n        <button onClick={handleUpdateRole}>Update Role</button>\n      </div>\n    </div>\n  );\n};\n\nexport default UserList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}